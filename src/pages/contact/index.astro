---
import { getEntry } from "astro:content";

// import layouts
import BaseLayout from "../../layouts/BaseLayout.astro";
import Flex2ColLayout from "../../components/layouts/Flex2ColLayout.jsx";

// import components
import SectionTitle from "../../components/SectionTitle.jsx";
import ContactForm from "../../components/ContactForm.jsx";
import ImageWrapper from "../../components/ImageWrapper.astro";

// import featured artwork
const featuredArtwork = await getEntry('settings', 'main-hero');
const { image, image_alt } = featuredArtwork.data;

// import Contact page settings
const contactMe = await getEntry('settings', 'contact-me');
const { title } = contactMe.data;
---

<BaseLayout 
   pageTitle={title}
>  
   <div transition:animate="fade" class="max-w-xl md:max-w-none">
      <SectionTitle title={title} />
      <Flex2ColLayout>
         <div class="flex-auto w-full md:max-w-[24rem] xl:max-w-[35rem] mr-auto xl:ml-auto">
            <ContactForm client:load />
         </div>
         <div class="p-4 m-auto md:m-0 lg:w-auto xl:m-auto xl:w-3/5 2xl:w-3/4">
            <ImageWrapper 
               src={image} 
               alt={image_alt} 
               width={768}
               quality={50}
               loading="eager"
               classes="md:max-w-xl lg:max-w-lg xl:mr-auto"
            />
         </div>
      </Flex2ColLayout>
   </div>
</BaseLayout>